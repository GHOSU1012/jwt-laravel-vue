webpackJsonp([5,3],[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var u=n(1),a=o(u),c=n(62),r=o(c),l=n(60),d=o(l),s=n(61),f=o(s),_=n(54),p=i(_),v=n(17),O=n(9),C=o(O);a["default"].use(d["default"]),a["default"].use(f["default"]),a["default"].config.debug=!1,a["default"].http.headers.common.Accept="application/json",a["default"].http.options.root="api",C["default"].dispatch("CHECK_AUTHENTICATION");var h=new f["default"]({hashbang:!1});h.map(v.routes),h.redirect(v.redirects),h.beforeEach(function(t){t.to.auth&&!C["default"].state.auth.authenticated?t.redirect("/login"):t.to.guest&&C["default"].state.auth.authenticated?t.redirect("/account"):t.next()}),n(44),r["default"].sync(C["default"],h),a["default"].router=h;var m=a["default"].extend(p);h.start(m,"#app")},,,function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.clearAccount=e.receiveAccount=void 0;var u=n(1),a=o(u),c=n(10),r=i(c);e.receiveAccount=function(t){var e=t.dispatch;a["default"].http.get("account").then(function(t){var n=t.data;e(r.RECEIVE_ACCOUNT,n)})},e.clearAccount=function(t){var e=t.dispatch;e(r.CLEAR_ACCOUNT)}},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CHECK_AUTHENTICATION="CHECK_AUTHENTICATION",e.LOGIN_SUCCESSFUL="LOGIN_SUCCESSFUL",e.LOGOUT="LOGOUT"},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.deleteNotification=e.addNotification=void 0;var o=n(12),u=i(o);e.addNotification=function(t,e){var n=t.dispatch;n(u.ADD_NOTIFICATION,e)},e.deleteNotification=function(t,e){var n=t.dispatch;n(u.DELETE_NOTIFICATION,e)}},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=i(o),a=n(63),c=i(a),r=n(64),l=(i(r),n(20)),d=i(l),s=n(18),f=i(s),_=n(23),p=i(_);u["default"].use(c["default"]),e["default"]=new c["default"].Store({modules:{auth:d["default"],account:f["default"],notification:p["default"]},strict:!1,middlewares:[]})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.RECEIVE_ACCOUNT="RECEIVE_ACCOUNT",e.CLEAR_ACCOUNT="CLEAR_ACCOUNT"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.state={id:null,email:null,name:null}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ADD_NOTIFICATION="ADD_NOTIFICATION",e.DELETE_NOTIFICATION="DELETE_NOTIFICATION"},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.routes={"/account":{name:"account.show",component:function(t){n.e(1,function(e){var n=[e(58)];t.apply(null,n)}.bind(this))},auth:!0},"/login":{name:"login.index",component:function(t){n.e(0,function(e){var n=[e(59)];t.apply(null,n)}.bind(this))},guest:!0}},e.redirects={"/":"/account"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),o=n(19);e["default"]={state:i.state,mutations:o.mutations}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.mutations=void 0;var o,u=n(7),a=i(u),c=n(10),r=n(11);e.mutations=(o={},(0,a["default"])(o,c.RECEIVE_ACCOUNT,function(t,e){t.id=e.id,t.email=e.email,t.name=e.name}),(0,a["default"])(o,c.CLEAR_ACCOUNT,function(t){t.id=r.state.id,t.email=r.state.email,t.name=r.state.name}),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(21);e["default"]={state:i.state,mutations:o.mutations}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.mutations=void 0;var o,u=n(7),a=i(u),c=n(1),r=i(c),l=n(5);e.mutations=(o={},(0,a["default"])(o,l.CHECK_AUTHENTICATION,function(t){t.authenticated=!!localStorage.getItem("id_token"),t.authenticated&&(r["default"].http.headers.common.Authorization="Bearer "+localStorage.getItem("id_token"))}),(0,a["default"])(o,l.LOGIN_SUCCESSFUL,function(t,e){t.authenticated=!0,localStorage.setItem("id_token",e),r["default"].http.headers.common.Authorization="Bearer "+e}),(0,a["default"])(o,l.LOGOUT,function(t){t.authenticated=!1,localStorage.removeItem("id_token"),r["default"].http.headers.common.Authorization=null}),o)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.state={authenticated:!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(24);e["default"]={state:i.state,mutations:o.mutations}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.mutations=void 0;var o,u=n(7),a=i(u),c=n(47),r=i(c),l=n(12);e.mutations=(o={},(0,a["default"])(o,l.ADD_NOTIFICATION,function(t,e){e.id=r["default"].v4(),t.all.push(e)}),(0,a["default"])(o,l.DELETE_NOTIFICATION,function(t,e){t.all=t.all.filter(function(t){return t.id!==e?t:void 0})}),o)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.state={all:[]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),u=i(o),a=n(3),c=n(6);e["default"]={store:u["default"],vuex:{getters:{authenticated:function(t){var e=t.auth;return e.authenticated},notifications:function(t){var e=t.notification;return e.all}},actions:{receiveAccount:a.receiveAccount,deleteNotification:c.deleteNotification}},ready:function(){this.authenticated&&this.receiveAccount()},components:{notification:function(t){n.e(2,function(e){var n=[e(55)];t.apply(null,n)}.bind(this))}}}},,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},,,function(t,e){t.exports='<div> <router-view></router-view> <div class=notification-wrapper> <div class=container> <div class=row> <div class="col-md-3 pull-right"> <notification v-for="notification in notifications" :style=notification.type :message=notification.message :id=notification.id :close-function=deleteNotification></notification> </div> </div> </div> </div> </div> '},,,,,,function(t,e,n){var i,o;n(45),i=n(26),o=n(48),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}]);
//# sourceMappingURL=app.a4d048523db6ea88c9c5.js.map